<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilo.css') }}">
    <title>Gesti√≥n de Membres√≠as</title>
    <style>
        table { width: 100%; border-collapse: separate; border-spacing: 0 12px; }
        th, td { padding: 18px 25px !important; text-align: left; }
        .form-container { background: #1c1c1c; padding: 25px; border-radius: 15px; border: 1px solid #ffc107; margin-bottom: 30px; }
        input, select { padding: 10px; margin: 5px; border-radius: 5px; border: 1px solid #ffc107; background: #222; color: white; }
    </style>
</head>
<body style="margin: 0; background-color: #121212; color: white; font-family: sans-serif;">

    <nav style="background-color: #ffc107; width: 100%; padding: 15px 0; border-bottom: 3px solid #000; display: flex; justify-content: space-around; align-items: center;">
        <div style="color: #000; font-weight: bold; font-size: 1.2rem;">Panel del Sistema del Gimnasio</div>
        <div style="display: flex; gap: 20px;">
            <a href="/" style="color: #000; text-decoration: none; font-weight: bold;">Inicio</a>
            <a href="/socios" style="color: #000; text-decoration: none; font-weight: bold;">Socios</a>
            <a href="/membresias" style="color: #000; text-decoration: none; font-weight: bold;">Membres√≠as</a>
        </div>
    </nav>

    <div style="max-width: 1100px; margin: 40px auto; padding: 0 20px;">
        <h1 style="color: #ffc107;">üí≥ Gesti√≥n de Membres√≠as</h1>

        <div class="form-container">
            <h3 style="color: #ffc107; margin-top: 0;">+ Asignar Nueva Membres√≠a</h3>
            <form action="/agregar_membresia" method="POST" style="display: flex; flex-wrap: wrap; gap: 10px;">
                <select name="idSocio" required>
                    <option value="">-- Seleccionar Socio --</option>
                    {% for s in socios %}
                    <option value="{{ s.idSocio }}">{{ s.nombre }}</option>
                    {% endfor %}
                </select>
                <select name="tipo">
                    <option value="Mensual">Mensual</option>
                    <option value="Anual">Anual</option>
                    <option value="Premium">Premium</option>
                </select>
                <input type="number" step="0.01" name="costo" placeholder="Costo $" required style="width: 100px;">
                <input type="date" name="fecha_inicio" required>
                <input type="date" name="fecha_fin" required>
                <button type="submit" style="background: #ffc107; color: black; font-weight: bold; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Asignar</button>
            </form>
        </div>

        <table>
            <thead>
                <tr style="color: #ffc107; text-transform: uppercase; font-size: 0.8rem;">
                    <th>ID</th>
                    <th>Socio</th>
                    <th>Tipo</th>
                    <th>Costo</th>
                    <th>Inicio</th>
                    <th>Fin</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for membresia, socio in datos %}
                <tr style="background-color: #1c1c1c;">
                    <td style="border-radius: 15px 0 0 15px;">{{ membresia.idMembresia }}</td>
                    <td style="font-weight: bold;">{{ socio.nombre }}</td>
                    <td>{{ membresia.tipo }}</td>
                    <td style="color: #ffc107;">${{ membresia.costo }}</td>
                    <td>{{ membresia.fecha_inicio }}</td>
                    <td>{{ membresia.fecha_fin }}</td>
                    <td style="border-radius: 0 15px 15px 0;">
                        <a href="/eliminar_membresia/{{ membresia.idMembresia }}" onclick="return confirm('¬øEliminar membres√≠a?')" style="color: #ff4d4d; text-decoration: none; font-weight: bold;">Eliminar</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
